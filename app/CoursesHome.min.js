var CoursesHome=function(){function n(n,t,i,r,u,f){typeof t=="undefined"&&(t="All"),typeof i=="undefined"&&(i="All languages"),typeof r=="undefined"&&(r="Views"),typeof u=="undefined"&&(u=1),typeof f=="undefined"&&(f=3);var e=this;this.coursesFactory=n,this.topic=t,this.language=i,this.sortOrder=r,this.page=u,this.coursesPerPage=f,this.languages=["All languages"],this.sortOrders=["Date","Views","Alphabetic","Ratings"],this.topics=["All","Games","Education","Fashion","Sports","Technology"],this.pages=[1],watch(this,"topic",function(){e.language="All languages",e.refreshCourses(),e.refreshLanguages()}),watch(this,"language",function(){e.refreshCourses()}),watch(this,"sortOrder",function(){e.refreshCourses()}),watch(this,"page",function(){e.refreshCourses(!1)}),this.refreshCourses(),this.refreshLanguages()}return n.prototype.refreshCourses=function(n){typeof n=="undefined"&&(n=!0),this.coursesList=this.coursesFactory.findCourses(this.topic,this.language,this.sortOrder,this.page,this.coursesPerPage),this.coursesPage=this.coursesList.slice((this.page-1)*this.coursesPerPage,(this.page-1)*this.coursesPerPage+this.coursesPerPage),this.pages=this.pageRange(this.coursesList.length/this.coursesPerPage),n&&(this.page=1)},n.prototype.pageRange=function(n){for(var i=[],t=1;t<=Math.ceil(n);t++)i.push(t);return i},n.prototype.refreshLanguages=function(){var n={"All languages":!0};this.coursesList.forEach(function(t){n[t.language]=!0}),this.languages=Object.keys(n)},n}()